<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Yellow Huffman Cipher — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        table {
            margin: 1em auto;
        }
        table.binary-table {
            float: right;
            margin: 0 0 .5cm .5cm;
            clear: both;
        }
            table.binary-table td, table.binary-table th {
                padding: .1em .5em 0 .5em;
            }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Yellow Huffman Cipher</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Blue Huffman Cipher.svg" class="diagram">

                <table class='binary-table'>
                    <tr><th>A</th><td>00000</td></tr>
                    <tr><th>B</th><td>00001</td></tr>
                    <tr><th>C</th><td>00010</td></tr>
                    <tr><th>D</th><td>00011</td></tr>
                    <tr><th>E</th><td>00100</td></tr>
                    <tr><th>F</th><td>00101</td></tr>
                    <tr><th>G</th><td>00110</td></tr>
                    <tr><th>H</th><td>00111</td></tr>
                    <tr><th>I</th><td>01000</td></tr>
                    <tr><th>J</th><td>01001</td></tr>
                    <tr><th>K</th><td>01010</td></tr>
                    <tr><th>L</th><td>01011</td></tr>
                    <tr><th>M</th><td>01100</td></tr>
                    <tr><th>N</th><td>01101</td></tr>
                    <tr><th>O</th><td>01110</td></tr>
                    <tr><th>P</th><td>01111</td></tr>
                    <tr><th>Q</th><td>10000</td></tr>
                    <tr><th>R</th><td>10001</td></tr>
                    <tr><th>S</th><td>10010</td></tr>
                    <tr><th>T</th><td>10011</td></tr>
                    <tr><th>U</th><td>1010</td></tr>
                    <tr><th>V</th><td>1011</td></tr>
                    <tr><th>W</th><td>1100</td></tr>
                    <tr><th>X</th><td>1101</td></tr>
                    <tr><th>Y</th><td>1110</td></tr>
                    <tr><th>Z</th><td>1111</td></tr>
                </table>

                <h2>On the Subject of Yellow Huffman Ciphers</h2>
                <p class="flavour-text">Ironically, more something for a Ravenclaw than a Hufflepuff.</p>
                <p>This module contains 3 screens, a keyboard, 2 arrows, and a submit button that displays the current page you’re on.</p>
                <p>Pressing the left or right arrow takes you to the previous or next page. There are 2 pages.</p>
                <p>To disarm the module, decrypt a word using the following three steps. Once you have the decrypted word, type it in using the keyboard. When you start typing, the screens go blank and the bottom screen will show what you are typing.</p>
                <p>To clear your input, click one of the arrows.</p>
                <p>Once you are satisfied with your input, press the button labeled “SUB” to submit your answer.</p>

                <h3>Step 1: Encrypted Binary Retrieval</h3>
                <p>For this step, use the letters from the top, middle and bottom screens on page 1 and the top screen on page 2. Concatenate them in this order and convert this encoded string to binary by replacing each letter with a binary code from the table on the right.</p>

                <h3>Step 2: Huffman Tree Construction</h3>
                <p>Take the keyword from the bottom screen on page 2 and remove any duplicate letters (keep each letter’s first occurrence). Take the entire alphabet and remove any letters that are in the keyword.</p>
                <p>If the number of ports modulo 4 is 0 or 1, place the alphabet at the end of the keyword. Otherwise, place the alphabet at the beginning of the keyword. This is the alphabet key.</p>
                <p>Now read the binary string from step 1 from left to right. Each 1 bit signifies to create a binary tree node, which will have two child nodes (called “left” and “right”). After each such node, decode its entire left subtree, then its entire right subtree. Each 0 bit signifies a leaf node, which will only contain a letter. As you encounter the leaf nodes, assign them the letters from the alphabet key in order. After decoding the tree structure, you will have some binary left over.</p>
                <p>The next page illustrates these steps with an example.</p>
            </div>
            <div class="page-footer relative-footer">Page 1 of 3</div>
        </div>

        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Yellow Huffman Cipher</span>
            </div>
            <div class="page-content">
                <h4>Example for Step 1</h4>
                <p style='margin-bottom: 0'>Example code from screens: WXDIXL</p>
                <p style='margin: 0'>W=1100 X=1101 D=00011 I=01000 X=1101 L=01011</p>
                <p style='margin-top: 0'>Encrypted binary: 110011010001101000110101011</p>

                <h4>Example for Step 2</h4>
                <p style='margin-bottom: 0'>For brevity, we will pretend the alphabet has only 6 letters (A–F).</p>
                <p style='margin: 0'>Keyword on last screen on page 2: CAB</p>
                <p style='margin-top: 0'>Assuming no ports, alphabet key is: CABDEF</p>

                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" font-size="6" font-family="Special Elite" text-anchor="middle" viewBox="5 0 430 400">
                  <path fill="none" stroke="#000" d="M85 20h15m-7.5-5 7.5 5-7.5 5" />
                  <text x="50" y="50" font-size="24" transform="translate(-25 -20)">1</text>
                  <g id="a" stroke="#000" transform="translate(-10 -50)">
                    <path fill="none" d="m25 100 30-30 30 30" />
                    <circle cx="55" cy="70" r="10" fill="#fff" />
                  </g>
                  <path fill="none" stroke="#000" d="M200 20h15m-7.5-5 7.5 5-7.5 5" />
                  <text x="50" y="50" font-size="24" transform="translate(95 10)">1</text>
                  <g id="b" transform="translate(-10 -50)">
                    <use xlink:href="#a" transform="translate(120 50)" />
                    <path fill="none" stroke="#000" d="m120 130 15-30 15 30" />
                    <circle cx="135" cy="100" r="10" fill="#fff" stroke="#000" />
                  </g>
                  <g id="c" transform="translate(0 -50)">
                    <use xlink:href="#b" transform="translate(130 50)" />
                    <circle cx="240" cy="130" r="10" fill="#fff" stroke="#000" />
                    <text x="240" y="134" font-size="10">C</text>
                  </g>
                  <text x="50" y="50" font-size="24" transform="translate(170 40)">0</text>
                  <path fill="none" stroke="#000" d="M325 20h15m-7.5-5 7.5 5-7.5 5" />
                  <text x="50" y="50" font-size="24" transform="translate(350 40)">0</text>
                  <g id="d" transform="translate(10 -50)">
                    <use xlink:href="#c" transform="translate(100 50)" />
                    <circle cx="370" cy="130" r="10" fill="#fff" stroke="#000" />
                    <text x="370" y="134" font-size="10">A</text>
                  </g>
                  <path fill="none" stroke="#000" d="M150 130h15m-7.5-5 7.5 5-7.5 5" />
                  <g id="e" transform="translate(10 -40)">
                    <use xlink:href="#d" transform="translate(-310 150)" />
                    <path fill="none" stroke="#000" d="m100 230 15-30 15 30" />
                    <circle cx="115" cy="200" r="10" fill="#fff" stroke="#000" />
                  </g>
                  <text x="50" y="50" font-size="24" transform="translate(55 120)">1</text>
                  <g id="f" transform="translate(-10 -40)">
                    <use xlink:href="#e" transform="translate(140 40)" />
                    <path fill="none" stroke="#000" d="m235 260 15-30 15 30" />
                    <circle cx="250" cy="230" r="10" fill="#fff" stroke="#000" />
                  </g>
                  <text x="50" y="50" font-size="24" transform="translate(210 150)">1</text>
                  <path fill="none" stroke="#000" d="M285 130h15m-7.5-5 7.5 5-7.5 5" />
                  <g id="g" transform="translate(-10 -40)">
                    <use xlink:href="#f" transform="translate(160 40)" />
                    <circle cx="385" cy="260" r="10" fill="#fff" stroke="#000" />
                    <text x="385" y="263.5" font-size="10">B</text>
                  </g>
                  <text x="50" y="50" font-size="24" transform="translate(305 180)">0</text>
                  <path fill="none" stroke="#000" d="M15 130h15m-7.5-5 7.5 5-7.5 5M15 260h15m-7.5-5 7.5 5-7.5 5" />
                  <g id="h" transform="translate(-25 -40)">
                    <path fill="none" stroke="#000" d="m120 420 15-30 15 30" />
                    <use xlink:href="#g" transform="translate(-270 170)" />
                    <circle cx="135" cy="390" r="10" fill="#fff" stroke="#000" />
                  </g>
                  <text x="50" y="50" font-size="24" transform="translate(80 310)">1</text>
                  <path fill="none" stroke="#000" d="M135 260h15m-7.5-5 7.5 5-7.5 5" />
                  <g id="i" transform="translate(-30 -40)">
                    <use xlink:href="#h" transform="translate(165 40)" />
                    <circle cx="260" cy="420" r="10" fill="#fff" stroke="#000" />
                    <text x="260" y="423.5" font-size="10">D</text>
                    <circle cx="290" cy="420" r="10" fill="#fff" stroke="#000" />
                    <text x="290" y="423.5" font-size="10">E</text>
                  </g>
                  <text x="50" y="50" font-size="24" transform="translate(160 340)">0</text>
                  <text x="50" y="50" font-size="24" transform="translate(230 340)">0</text>
                  <use xlink:href="#i" transform="translate(145)" />
                  <path fill="none" stroke="#000" d="M275 260h15m-7.5-5 7.5 5-7.5 5" />
                  <circle cx="405" cy="320" r="10" fill="#fff" stroke="#000" />
                  <text x="405" y="324" font-size="10">F</text>
                  <text x="50" y="50" font-size="24" transform="translate(375 280)">0</text>
                </svg>

                <p>Leftover binary: 1101000110101011</p>

            </div>
            <div class="page-footer relative-footer">Page 2 of 3</div>
        </div>

        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Yellow Huffman Cipher</span>
            </div>
            <div class="page-content">
                <h3>Step 3: Huffman Decryption</h3>
                <p>Start at the root (top node) of the Huffman tree obtained in Step 1.</p>
                <p>Read the first bit from the leftover binary. If it’s a 0, move to the left child node, else the right child node.</p>
                <p>Continue this until you reach a letter node. At this point, write down the letter, then move back to the root.</p>
                <p>Repeat until all bits in the encrypted binary are exhausted. The received letters form the deciphered word.</p>

                <h4>Example for Step 3</h4>
                <p>Leftover binary from Step 2: 1101000110101011 → deciphered word: FACADE</p>

                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" font-size="6" font-family="Special Elite" text-anchor="middle" viewBox="5 0 430 370"><defs><marker id="f2" orient="auto" overflow="visible" refX="0" refY="0"><path stroke="#000" stroke-width=".19" d="m-1.93-1.21 3.28 1.2-3.28 1.21c.53-.71.53-1.68 0-2.41z"/></marker><marker id="e2" orient="auto" overflow="visible" refX="0" refY="0"><path stroke="#000" stroke-width=".19" d="m-1.93-1.21 3.28 1.2-3.28 1.21c.53-.71.53-1.68 0-2.41z"/></marker><marker id="c2" orient="auto" overflow="visible" refX="0" refY="0"><path stroke="#000" stroke-width=".19" d="m-1.93-1.21 3.28 1.2-3.28 1.21c.53-.71.53-1.68 0-2.41z"/></marker><marker id="b2" orient="auto" overflow="visible" refX="0" refY="0"><path stroke="#000" stroke-width=".19" d="m-1.93-1.21 3.28 1.2-3.28 1.21c.53-.71.53-1.68 0-2.41z"/></marker><marker id="a2" orient="auto" overflow="visible" refX="0" refY="0"><path stroke="#000" stroke-width=".19" d="m-1.93-1.21 3.28 1.2-3.28 1.21c.53-.71.53-1.68 0-2.41z"/></marker></defs><circle cx="415" cy="320" r="10" fill="#fff" stroke="#000"/><text x="415" y="323.5" font-size="10">E</text><text x="415" y="305" stroke-width="5" font-size="13">1</text><path fill="none" stroke="#000" stroke-width="2" marker-end="url(#a2)" d="m400 290 10.53 21.06"/><path fill="none" stroke="#000" d="m385 320 15-30"/><circle cx="235" cy="320" r="10" fill="#fff" stroke="#000"/><text x="235" y="323.5" font-size="10">D</text><path fill="none" stroke="#000" d="m340 50 15 30"/><text x="140" y="30" stroke-width="5" font-size="13" transform="translate(-70 145)">11 → F</text><text x="370" y="175" stroke-width="5" font-size="13">00 → C</text><text x="220" y="355" stroke-width="5" font-size="13">1010 → D</text><text x="370.59" y="355" stroke-width="5" font-size="13">1011 → E</text><path fill="none" stroke="#000" d="m85 80 15-30"/><g id="d2"><path fill="none" stroke="#000" d="m85 140 15-30 15 30M70 110l15-30 15 30"/><circle cx="85" cy="80" r="10" fill="#fff" stroke="#000"/><circle cx="70" cy="110" r="10" fill="#fff" stroke="#000"/><text x="70" y="113.5" font-size="10">B</text><circle cx="100" cy="110" r="10" fill="#fff" stroke="#000"/><circle cx="85" cy="140" r="10" fill="#fff" stroke="#000"/><text x="85" y="143.5" font-size="10">D</text><circle cx="115" cy="140" r="10" fill="#fff" stroke="#000"/><text x="115" y="143.5" font-size="10">E</text></g><circle cx="115" cy="80" r="10" fill="#fff" stroke="#000"/><text x="115" y="84" font-size="10">F</text><text x="115" y="65" stroke-width="5" font-size="13">1</text><path fill="none" stroke="#000" stroke-width="2" marker-end="url(#b2)" d="m100 50 10.53 21.06"/><path fill="none" stroke="#000" d="M70 20 40 50"/><circle cx="100" cy="50" r="10" fill="#fff" stroke="#000"/><text x="90" y="35" stroke-width="5" font-size="13">1</text><g id="h2"><path fill="none" stroke="#000" d="m25 80 15-30 15 30"/><circle cx="25" cy="80" r="10" fill="#fff" stroke="#000"/><text x="25" y="84" font-size="10">C</text><circle cx="55" cy="80" r="10" fill="#fff" stroke="#000"/><text x="55" y="84" font-size="10">A</text><circle cx="40" cy="50" r="10" fill="#fff" stroke="#000"/></g><path fill="none" stroke="#000" stroke-width="2" marker-end="url(#c2)" d="m70 20 22.93 22.93"/><circle cx="70" cy="20" r="10" fill="#fff" stroke="#000"/><g id="g2"><path fill="none" stroke="#000" d="m220 20 30 30M235 80l15-30 15 30"/><text x="220" y="175" stroke-width="5" font-size="13">01 → A</text><path fill="none" stroke="#000" d="m175 80 15-30"/><circle cx="175" cy="80" r="10" fill="#fff" stroke="#000"/><text x="175" y="84" font-size="10">C</text><circle cx="205" cy="80" r="10" fill="#fff" stroke="#000"/><text x="205" y="84" font-size="10">A</text><circle cx="265" cy="80" r="10" fill="#fff" stroke="#000"/><text x="265" y="84" font-size="10">F</text><circle cx="250" cy="50" r="10" fill="#fff" stroke="#000"/><use xlink:href="#d2" transform="translate(150)"/><text x="205" y="30" stroke-width="5" font-size="13">0</text><text x="205" y="65" stroke-width="5" font-size="13">1</text><path fill="none" stroke="#000" stroke-width="2" marker-end="url(#b2)" d="m190 50 10.53 21.06"/><circle cx="190" cy="50" r="10" fill="#fff" stroke="#000"/><path fill="none" stroke="#000" stroke-width="2" marker-end="url(#e2)" d="m221.04 18.96-22.93 22.93"/><circle cx="220" cy="20" r="10" fill="#fff" stroke="#000"/></g><path fill="none" stroke="#000" d="m370 20 30 30M385 80l15-30 15 30"/><circle cx="325" cy="80" r="10" fill="#fff" stroke="#000"/><text x="325" y="84" font-size="10">C</text><circle cx="355" cy="80" r="10" fill="#fff" stroke="#000"/><text x="355" y="84" font-size="10">A</text><circle cx="415" cy="80" r="10" fill="#fff" stroke="#000"/><text x="415" y="84" font-size="10">F</text><circle cx="400" cy="50" r="10" fill="#fff" stroke="#000"/><text x="355" y="30" stroke-width="5" font-size="13">0</text><use xlink:href="#d2" transform="translate(300)"/><text x="325" y="65" stroke-width="5" font-size="13">0</text><path fill="none" stroke="#000" stroke-width="2" marker-end="url(#f2)" d="m340 50-10.53 21.06"/><circle cx="340" cy="50" r="10" fill="#fff" stroke="#000"/><path fill="none" stroke="#000" stroke-width="2" marker-end="url(#e2)" d="m371.04 18.96-22.93 22.93"/><circle cx="370" cy="20" r="10" fill="#fff" stroke="#000"/><use xlink:href="#g2" transform="translate(-150 180)"/><path fill="none" stroke="#000" d="m250 290 15 30"/><circle cx="265" cy="320" r="10" fill="#fff" stroke="#000"/><text x="265" y="323.5" font-size="10">E</text><text x="235" y="305" stroke-width="5" font-size="13">0</text><path fill="none" stroke="#000" stroke-width="2" marker-end="url(#f2)" d="m250 290-10.53 21.06"/><g id="i2"><path fill="none" stroke="#000" d="m250 230 15 30"/><text x="235" y="245" stroke-width="5" font-size="13">0</text><path fill="none" stroke="#000" d="m220 290 15-30"/><circle cx="220" cy="290" r="10" fill="#fff" stroke="#000"/><text x="220" y="293.5" font-size="10">B</text><circle cx="265" cy="260" r="10" fill="#fff" stroke="#000"/><text x="265" y="264" font-size="10">F</text><path fill="none" stroke="#000" d="m220 200-30 30"/><text x="240" y="215" stroke-width="5" font-size="13">1</text><text x="250" y="275" stroke-width="5" font-size="13">1</text><circle cx="250" cy="290" r="10" fill="#fff" stroke="#000"/><path fill="none" stroke="#000" stroke-width="2" marker-end="url(#b2)" d="m235 260 10.53 21.06"/><circle cx="235" cy="260" r="10" fill="#fff" stroke="#000"/><path fill="none" stroke="#000" stroke-width="2" marker-end="url(#f2)" d="m250 230-10.53 21.06"/><circle cx="250" cy="230" r="10" fill="#fff" stroke="#000"/><path fill="none" stroke="#000" stroke-width="2" marker-end="url(#c2)" d="m220 200 22.93 22.93"/><circle cx="220" cy="200" r="10" fill="#fff" stroke="#000"/><use xlink:href="#h2" transform="translate(150 180)"/></g><use xlink:href="#i2" transform="translate(150)"/><circle cx="385" cy="320" r="10" fill="#fff" stroke="#000"/><text x="385" y="323.5" font-size="10">D</text></svg>
            </div>
            <div class="page-footer relative-footer">Page 3 of 3</div>
        </div>
    </div>
</body>
</html>